{%TEMPLATE->struct/head%}
{%TEMPLATE->struct/menu%}
<h2>Development Tools</h2>
{%TEMPLATE->struct/messages%}
<div class='alert alert-warning'>
	<b>Attention:</b><br>
	These setup tools are designed for easier testing and setting of specific scenarios of the database. Some of these can also be used during the setup of Hashtopolis. Only use these if you are aware of what you are doing and what the effects can be!
</div>
<div class="card">
	<div class="table-responsive">
		<table class="table table-bordered">
			<tr>
				<th>Identifier</th>
				<th>Description</th>
				<th>Applicable</th>
				<th>&nbsp;</th>
			</tr>
			{{FOREACH setup;[[setups]]}}
				<tr>
					<td>[[htmlentities([[setup.getIdentifier()]], ENT_QUOTES, "UTF-8")]]</td>
					<td>[[htmlentities([[setup.getDescription()]], ENT_QUOTES, "UTF-8")]]</td>
					<td>{{IF [[setup.isApplicable()]]}}Yes{{ELSE}}No{{ENDIF}}</td>
					<td>
						<form style="float: right;" action="development.php" method="POST" onSubmit="if (!confirm('Are you sure you want to execute this tool?')) return false;">
							<input type="hidden" name="action" value="[[$DSetupAction::EXECUTE_SETUP]]">
							<input type="hidden" name="identifier" value="[[setup.getIdentifier()]]">
							<input type="hidden" name="csrf" value="[[csrf]]">
							<button type="submit" class='btn btn-warning' data-toggle="tooltip" data-placement="top" title="Run"{{IF ![[setup.isApplicable()]]}} disabled{{ENDIF}}><i class="fas fa-power-off" aria-hidden="true"></i></button>
						</form>
					</td>
				</tr>
			{{ENDFOREACH}}
		</table>
	</div>
</div>
<h3>Danger Zone</h3>
<div class="card">
	<div class="table-responsive">
		<table class="table table-bordered">
			<tr>
				<th>Identifier</th>
				<th>Description</th>
				<th>Applicable</th>
				<th>&nbsp;</th>
			</tr>
			{{FOREACH cleanup;[[cleanups]]}}
				<tr>
					<td>[[htmlentities([[cleanup.getIdentifier()]], ENT_QUOTES, "UTF-8")]]</td>
					<td>[[htmlentities([[cleanup.getDescription()]], ENT_QUOTES, "UTF-8")]]</td>
					<td>{{IF [[cleanup.isApplicable()]]}}Yes{{ELSE}}No{{ENDIF}}</td>
					<td>
						<form style="float: right;" action="development.php" method="POST" onSubmit="if (!confirm('Are you sure you want to execute this tool?')) return false;">
							<input type="hidden" name="action" value="[[$DSetupAction::EXECUTE_SETUP]]">
							<input type="hidden" name="identifier" value="[[cleanup.getIdentifier()]]">
							<input type="hidden" name="csrf" value="[[csrf]]">
							<button type="submit" class='btn btn-danger' data-toggle="tooltip" data-placement="top" title="Run"{{IF ![[cleanup.isApplicable()]]}} disabled{{ENDIF}}><i class="fas fa-power-off" aria-hidden="true"></i></button>
						</form>
					</td>
				</tr>
			{{ENDFOREACH}}
		</table>
	</div>
</div>
{%TEMPLATE->struct/foot%}